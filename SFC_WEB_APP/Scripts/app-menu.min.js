(function(n,t,i){"use strict";i.app=i.app||{};var r=i("body"),u=i(n),f=i('div[data-menu="menu-wrapper"]').html(),e=i('div[data-menu="menu-wrapper"]').attr("class");i.app.menu={expanded:null,collapsed:null,hidden:null,container:null,horizontalMenu:!1,manualScroller:{obj:null,init:function(){var n=i(".main-menu").hasClass("menu-dark")?"light":"dark";this.obj=new PerfectScrollbar(".main-menu-content",{suppressScrollX:!0})},update:function(){if(this.obj){if(i(".main-menu").data("scroll-to-active")===!0){var n;n=i(".main-menu-content").find("li.active").parents("li").length>0?i(".main-menu-content").find("li.active").parents("li").last().position():i(".main-menu-content").find("li.active").position();setTimeout(function(){n!==undefined&&i.app.menu.container.stop().animate({scrollTop:n.top},300);i(".main-menu").data("scroll-to-active","false")},300)}this.obj.update()}},enable:function(){i(".main-menu-content").hasClass("ps")||this.init()},disable:function(){this.obj&&this.obj.destroy()},updateHeight:function(){(r.data("menu")=="vertical-menu"||r.data("menu")=="vertical-menu-modern"||r.data("menu")=="vertical-overlay-menu")&&i(".main-menu").hasClass("menu-fixed")&&(i(".main-menu-content").css("height",i(n).height()-i(".header-navbar").height()-i(".main-menu-header").outerHeight()-i(".main-menu-footer").outerHeight()),this.update())}},init:function(n){var f,t,u;i(".main-menu-content").length>0?(this.container=i(".main-menu-content"),f=this,t="",n===!0&&(t="collapsed"),r.data("menu")=="vertical-menu-modern"?(u="",typeof Storage!="undefined"&&(u=localStorage.getItem("menuLocked")),u==="false"?this.change("collapsed"):this.change()):this.change(t)):this.drillDownMenu()},drillDownMenu:function(n){i(".drilldown-menu").length&&(n=="sm"||n=="xs"?i("#navbar-mobile").attr("aria-expanded")=="true"&&i(".drilldown-menu").slidingMenu({backLabel:!0}):i(".drilldown-menu").slidingMenu({backLabel:!0}))},change:function(n){function f(n){var t=i(".menu-search");i(t).change(function(){var r=i(this).val(),t;return r?(i(".navigation-header").hide(),i(n).find("li a:not(:Contains("+r+"))").hide().parent().hide(),t=i(n).find("li a:Contains("+r+")"),t.parent().hasClass("has-sub")?(t.show().parents("li").show().addClass("open").closest("li").children("a").show().children("li").show(),t.siblings("ul").length>0&&t.siblings("ul").children("li").show().children("a").show()):t.show().parents("li").show().addClass("open").closest("li").children("a").show()):(i(".navigation-header").show(),i(n).find("li a").show().parent().show().removeClass("open")),i.app.menu.manualScroller.update(),!1}).keyup(function(){i(this).change()})}var u=Unison.fetch.now(),t;if(this.reset(),t=r.data("menu"),u)switch(u.name){case"xl":case"lg":t==="vertical-overlay-menu"?this.hide():n==="collapsed"?this.collapse(n):this.expand();break;case"md":t==="vertical-overlay-menu"||t==="vertical-menu-modern"?this.hide():this.collapse();break;case"sm":this.hide();break;case"xs":this.hide()}if((t==="vertical-menu"||t==="vertical-menu-modern")&&this.toOverlayMenu(u.name,t),r.is(".horizontal-layout")&&!r.hasClass(".horizontal-menu-demo")&&(this.changeMenu(u.name),i(".menu-toggle").removeClass("is-active")),t!="horizontal-menu"&&this.drillDownMenu(u.name),u.name=="xl"){i('body[data-open="hover"] .dropdown').on("mouseenter",function(){i(this).hasClass("show")?i(this).removeClass("show"):i(this).addClass("show")}).on("mouseleave",function(){i(this).removeClass("show")});i('body[data-open="hover"] .dropdown a').on("click",function(){if(t=="horizontal-menu"){var n=i(this);if(n.hasClass("dropdown-toggle"))return!1}})}i(".header-navbar").hasClass("navbar-brand-center")&&i(".header-navbar").attr("data-nav","brand-center");u.name=="sm"||u.name=="xs"?i(".header-navbar[data-nav=brand-center]").removeClass("navbar-brand-center"):i(".header-navbar[data-nav=brand-center]").addClass("navbar-brand-center");i("ul.dropdown-menu [data-toggle=dropdown]").on("click",function(n){i(this).siblings("ul.dropdown-menu").length>0&&n.preventDefault();n.stopPropagation();i(this).parent().siblings().removeClass("show");i(this).parent().toggleClass("show")});t=="horizontal-menu"&&(u.name=="sm"||u.name=="xs"?i(".menu-fixed").length&&i(".menu-fixed").unstick():i(".navbar-fixed").length&&i(".navbar-fixed").sticky());(t==="vertical-menu"||t==="vertical-overlay-menu")&&(jQuery.expr[":"].Contains=function(n,t,i){return(n.textContent||n.innerText||"").toUpperCase().indexOf(i[3].toUpperCase())>=0},f(i("#main-menu-navigation")))},transit:function(n,t){var u=this;r.addClass("changing-menu");n.call(u);r.hasClass("vertical-layout")&&(r.hasClass("menu-open")||r.hasClass("menu-expanded")?(i(".menu-toggle").addClass("is-active"),r.data("menu")==="vertical-menu"&&i(".main-menu-header")&&i(".main-menu-header").show()):(i(".menu-toggle").removeClass("is-active"),r.data("menu")==="vertical-menu"&&i(".main-menu-header")&&i(".main-menu-header").hide()));setTimeout(function(){t.call(u);r.removeClass("changing-menu");u.update()},500)},open:function(){this.transit(function(){r.removeClass("menu-hide menu-collapsed").addClass("menu-open");this.hidden=!1;this.expanded=!0;r.hasClass("vertical-overlay-menu")&&(i(".sidenav-overlay").removeClass("d-none").addClass("d-block"),i("body").css("overflow","hidden"))},function(){!i(".main-menu").hasClass("menu-native-scroll")&&i(".main-menu").hasClass("menu-fixed")&&(this.manualScroller.enable(),i(".main-menu-content").css("height",i(n).height()-i(".header-navbar").height()-i(".main-menu-header").outerHeight()-i(".main-menu-footer").outerHeight()));r.hasClass("vertical-overlay-menu")||(i(".sidenav-overlay").removeClass("d-block d-none"),i("body").css("overflow","auto"))})},hide:function(){this.transit(function(){r.removeClass("menu-open menu-expanded").addClass("menu-hide");this.hidden=!0;this.expanded=!1;r.hasClass("vertical-overlay-menu")&&(i(".sidenav-overlay").removeClass("d-block").addClass("d-none"),i("body").css("overflow","auto"))},function(){!i(".main-menu").hasClass("menu-native-scroll")&&i(".main-menu").hasClass("menu-fixed")&&this.manualScroller.enable();r.hasClass("vertical-overlay-menu")||(i(".sidenav-overlay").removeClass("d-block d-none"),i("body").css("overflow","auto"))})},expand:function(){this.expanded===!1&&(r.data("menu")=="vertical-menu-modern"&&(i(".modern-nav-toggle").find(".toggle-icon").removeClass("ft-toggle-left").addClass("ft-toggle-right"),typeof Storage!="undefined"&&localStorage.setItem("menuLocked","true")),this.transit(function(){r.removeClass("menu-collapsed").addClass("menu-expanded");this.collapsed=!1;this.expanded=!0;i(".sidenav-overlay").removeClass("d-block d-none")},function(){i(".main-menu").hasClass("menu-native-scroll")||r.data("menu")=="horizontal-menu"?this.manualScroller.disable():i(".main-menu").hasClass("menu-fixed")&&this.manualScroller.enable();(r.data("menu")=="vertical-menu"||r.data("menu")=="vertical-menu-modern")&&i(".main-menu").hasClass("menu-fixed")&&i(".main-menu-content").css("height",i(n).height()-i(".header-navbar").height()-i(".main-menu-header").outerHeight()-i(".main-menu-footer").outerHeight())}))},collapse:function(){this.collapsed===!1&&(r.data("menu")=="vertical-menu-modern"&&(i(".modern-nav-toggle").find(".toggle-icon").removeClass("ft-toggle-right").addClass("ft-toggle-left"),typeof Storage!="undefined"&&localStorage.setItem("menuLocked","false")),this.transit(function(){r.removeClass("menu-expanded").addClass("menu-collapsed");this.collapsed=!0;this.expanded=!1;i(".content-overlay").removeClass("d-block d-none")},function(){r.data("menu")=="horizontal-menu"&&r.hasClass("vertical-overlay-menu")&&i(".main-menu").hasClass("menu-fixed")&&this.manualScroller.enable();(r.data("menu")=="vertical-menu"||r.data("menu")=="vertical-menu-modern")&&i(".main-menu").hasClass("menu-fixed")&&i(".main-menu-content").css("height",i(n).height()-i(".header-navbar").height());r.data("menu")=="vertical-menu-modern"&&i(".main-menu").hasClass("menu-fixed")&&this.manualScroller.enable()}))},toOverlayMenu:function(n,t){var i=r.data("menu");t=="vertical-menu-modern"?n=="md"||n=="sm"||n=="xs"?r.hasClass(i)&&r.removeClass(i).addClass("vertical-overlay-menu"):r.hasClass("vertical-overlay-menu")&&r.removeClass("vertical-overlay-menu").addClass(i):n=="sm"||n=="xs"?r.hasClass(i)&&r.removeClass(i).addClass("vertical-overlay-menu"):r.hasClass("vertical-overlay-menu")&&r.removeClass("vertical-overlay-menu").addClass(i)},changeMenu:function(n){i('div[data-menu="menu-wrapper"]').html("");i('div[data-menu="menu-wrapper"]').html(f);var o=i('div[data-menu="menu-wrapper"]'),l=i('div[data-menu="menu-container"]'),s=i('ul[data-menu="menu-navigation"]'),t=i('li[data-menu="megamenu"]'),h=i("li[data-mega-col]"),u=i('li[data-menu="dropdown"]'),c=i('li[data-menu="dropdown-submenu"]');if(n=="sm"||n=="xs"){r.removeClass(r.data("menu")).addClass("vertical-layout vertical-overlay-menu fixed-navbar");i("nav.header-navbar").addClass("fixed-top");o.removeClass().addClass("main-menu menu-light menu-fixed menu-shadow");s.removeClass().addClass("navigation navigation-main");t.removeClass("dropdown mega-dropdown").addClass("has-sub");t.children("ul").removeClass();h.each(function(n,t){var f=i(t).find(".mega-menu-sub"),r,u;f.find("li").has("ul").addClass("has-sub");r=i(t).children().first();u="";r.is("h6")&&(u=r.html(),r.remove(),i(t).prepend('<a href="#">'+u+"<\/a>").addClass("has-sub mega-menu-title"))});t.find("a").removeClass("dropdown-toggle");t.find("a").removeClass("dropdown-item");u.removeClass("dropdown").addClass("has-sub");u.find("a").removeClass("dropdown-toggle nav-link");u.children("ul").find("a").removeClass("dropdown-item");u.find("ul").removeClass("dropdown-menu");c.removeClass().addClass("has-sub");i.app.nav.init();i("ul.dropdown-menu [data-toggle=dropdown]").on("click",function(n){n.preventDefault();n.stopPropagation();i(this).parent().siblings().removeClass("open");i(this).parent().toggleClass("open")})}else{r.removeClass("vertical-layout vertical-overlay-menu fixed-navbar").addClass(r.data("menu"));i("nav.header-navbar").removeClass("fixed-top");o.removeClass().addClass(e);this.drillDownMenu(n);i("a.dropdown-item.nav-has-children").on("click",function(){event.preventDefault();event.stopPropagation()});i("a.dropdown-item.nav-has-parent").on("click",function(){event.preventDefault();event.stopPropagation()})}},toggle:function(){var t=Unison.fetch.now(),f=this.collapsed,i=this.expanded,u=this.hidden,n=r.data("menu");switch(t.name){case"xl":case"lg":i===!0?n=="vertical-overlay-menu"?this.hide():this.collapse():n=="vertical-overlay-menu"?this.open():this.expand();break;case"md":i===!0?n=="vertical-overlay-menu"||n=="vertical-menu-modern"?this.hide():this.collapse():n=="vertical-overlay-menu"||n=="vertical-menu-modern"?this.open():this.expand();break;case"sm":u===!0?this.open():this.hide();break;case"xs":u===!0?this.open():this.hide()}this.drillDownMenu(t.name)},update:function(){this.manualScroller.update()},reset:function(){this.expanded=!1;this.collapsed=!1;this.hidden=!1;r.removeClass("menu-hide menu-open menu-collapsed menu-expanded")}};i.app.nav={container:i(".navigation-main"),initialized:!1,navItem:i(".navigation-main").find("li").not(".navigation-category"),config:{speed:300},init:function(n){this.initialized=!0;i.extend(this.config,n);this.bind_events()},bind_events:function(){function t(){if(r.data("menu")=="vertical-menu-modern"&&(i(".main-menu, .navbar-header").addClass("expanded"),r.hasClass("menu-collapsed"))){var n=i(".main-menu li.menu-collapsed-open"),t=n.children("ul");t.hide().slideDown(200,function(){i(this).css("display","")});n.addClass("open").removeClass("menu-collapsed-open")}}function u(){r.hasClass("menu-collapsed")&&r.data("menu")=="vertical-menu-modern"&&setTimeout(function(){if(i(".main-menu:hover").length===0&&i(".navbar-header:hover").length===0&&(i(".main-menu, .navbar-header").removeClass("expanded"),r.hasClass("menu-collapsed"))){var n=i(".main-menu li.open"),t=n.children("ul");n.addClass("menu-collapsed-open");t.show().slideUp(200,function(){i(this).css("display","")});n.removeClass("open")}},1)}var n=this;i(".navigation-main").on("mouseenter.app.menu","li",function(){var t=i(this),u,f,e,o,s;i(".hover",".navigation-main").removeClass("hover");r.hasClass("menu-collapsed")&&r.data("menu")!="vertical-menu-modern"&&(i(".main-menu-content").children("span.menu-title").remove(),i(".main-menu-content").children("a.menu-title").remove(),i(".main-menu-content").children("ul.menu-content").remove(),u=t.find("span.menu-title").clone(),t.hasClass("has-sub")||(f=t.find("span.menu-title").text(),e=t.children("a").attr("href"),f!==""&&(u=i("<a>"),u.attr("href",e),u.attr("title",f),u.text(f),u.addClass("menu-title"))),o=t.css("border-top")?t.position().top+parseInt(t.css("border-top"),10):t.position().top,r.data("menu")!=="vertical-compact-menu"&&u.appendTo(".main-menu-content").css({position:"fixed",top:o}),t.hasClass("has-sub")&&t.hasClass("nav-item")&&(s=t.children("ul:first"),n.adjustSubmenu(t)));t.addClass("hover")}).on("mouseleave.app.menu","li",function(){}).on("active.app.menu","li",function(n){i(this).addClass("active");n.stopPropagation()}).on("deactive.app.menu","li.active",function(n){i(this).removeClass("active");n.stopPropagation()}).on("open.app.menu","li",function(t){var r=i(this);if(r.addClass("open"),n.expand(r),i(".main-menu").hasClass("menu-collapsible"))return!1;r.siblings(".open").find("li.open").trigger("close.app.menu");r.siblings(".open").trigger("close.app.menu");t.stopPropagation()}).on("close.app.menu","li.open",function(t){var r=i(this);r.removeClass("open");n.collapse(r);t.stopPropagation()}).on("click.app.menu","li",function(n){var t=i(this);t.is(".disabled")?n.preventDefault():r.hasClass("menu-collapsed")&&r.data("menu")!="vertical-menu-modern"?n.preventDefault():t.has("ul")?t.is(".open")?t.trigger("close.app.menu"):t.trigger("open.app.menu"):t.is(".active")||(t.siblings(".active").trigger("deactive.app.menu"),t.trigger("active.app.menu"));n.stopPropagation()});i(".navbar-header, .main-menu").on("mouseenter",t).on("mouseleave",u);i(".main-menu-content").on("mouseleave",function(){r.hasClass("menu-collapsed")&&(i(".main-menu-content").children("span.menu-title").remove(),i(".main-menu-content").children("a.menu-title").remove(),i(".main-menu-content").children("ul.menu-content").remove());i(".hover",".navigation-main").removeClass("hover")});i(".navigation-main li.has-sub > a").on("click",function(n){n.preventDefault()});i("ul.menu-content").on("click","li",function(t){var r=i(this);if(r.is(".disabled"))t.preventDefault();else if(r.has("ul"))if(r.is(".open"))r.removeClass("open"),n.collapse(r);else{if(r.addClass("open"),n.expand(r),i(".main-menu").hasClass("menu-collapsible"))return!1;r.siblings(".open").find("li.open").trigger("close.app.menu");r.siblings(".open").trigger("close.app.menu");t.stopPropagation()}else r.is(".active")||(r.siblings(".active").trigger("deactive.app.menu"),r.trigger("active.app.menu"));t.stopPropagation()})},adjustSubmenu:function(n){var h,t,f,e,c,o,r,l,s=n.children("ul:first"),a=s.clone(!0),v;h=i(".main-menu-header").height();t=n.position().top;e=u.height()-i(".header-navbar").height();r=0;c=s.height();parseInt(n.css("border-top"),10)>0&&(r=parseInt(n.css("border-top"),10));o=e-t-n.height()-30;l=i(".main-menu").hasClass("menu-dark")?"light":"dark";f=t+n.height()+r;a.addClass("menu-popout").appendTo(".main-menu-content").css({top:f,position:"fixed","max-height":o});v=new PerfectScrollbar(".main-menu-content > ul.menu-content")},collapse:function(n,t){var r=n.children("ul");r.show().slideUp(i.app.nav.config.speed,function(){i(this).css("display","");i(this).find("> li").removeClass("is-shown");t&&t();i.app.nav.container.trigger("collapsed.app.menu")})},expand:function(n,t){var r=n.children("ul"),u=r.children("li").addClass("is-hidden");r.hide().slideDown(i.app.nav.config.speed,function(){i(this).css("display","");t&&t();i.app.nav.container.trigger("expanded.app.menu")});setTimeout(function(){u.addClass("is-shown");u.removeClass("is-hidden")},0)},refresh:function(){i.app.nav.container.find(".open").removeClass("open")}}})(window,document,jQuery);